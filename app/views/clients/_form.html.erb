<%# local_assigns: client %>
<%= form_with model: client, class: "space-y-6" do |f| %>
  <% if client.errors.any? %>
    <div class="bg-red-50 border border-red-200 rounded-xl p-4">
      <div class="flex items-center gap-2 text-red-700 font-medium mb-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        Please fix the following errors:
      </div>
      <ul class="list-disc list-inside text-sm text-red-600">
        <% client.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%# Basic Info %>
  <div class="bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden">
    <div class="px-4 py-3 border-b border-slate-100">
      <h2 class="font-semibold text-slate-900">Client Information</h2>
    </div>
    <div class="p-4 space-y-4">
      <div>
        <%= f.label :name, class: "block text-sm font-medium text-slate-700 mb-1" %>
        <%= f.text_field :name, 
            required: true,
            class: "w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",
            placeholder: "Full name" %>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <%= f.label :email, class: "block text-sm font-medium text-slate-700 mb-1" %>
          <%= f.email_field :email, 
              class: "w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",
              placeholder: "email@example.com" %>
        </div>
        <div>
          <%= f.label :phone, class: "block text-sm font-medium text-slate-700 mb-1" %>
          <%= f.telephone_field :phone, 
              class: "w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",
              placeholder: "(555) 123-4567" %>
        </div>
      </div>
    </div>
  </div>

  <%# Address %>
  <div class="bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden">
    <div class="px-4 py-3 border-b border-slate-100">
      <h2 class="font-semibold text-slate-900">Address</h2>
    </div>
    <div class="p-4 space-y-4">
      <div>
        <%= f.label :address, "Street Address", class: "block text-sm font-medium text-slate-700 mb-1" %>
        <%= f.text_field :address, 
            class: "w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",
            placeholder: "123 Main St" %>
      </div>

      <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
        <div class="col-span-2">
          <%= f.label :city, class: "block text-sm font-medium text-slate-700 mb-1" %>
          <%= f.text_field :city, 
              class: "w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500" %>
        </div>
        <div>
          <%= f.label :state, class: "block text-sm font-medium text-slate-700 mb-1" %>
          <%= f.text_field :state, 
              maxlength: 2,
              class: "w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 uppercase",
              placeholder: "CA" %>
        </div>
        <div>
          <%= f.label :zip_code, "ZIP", class: "block text-sm font-medium text-slate-700 mb-1" %>
          <%= f.text_field :zip_code, 
              class: "w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500" %>
        </div>
      </div>
    </div>
  </div>

  <%# Notes %>
  <div class="bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden">
    <div class="px-4 py-3 border-b border-slate-100">
      <h2 class="font-semibold text-slate-900">Notes</h2>
    </div>
    <div class="p-4">
      <%= f.text_area :notes, 
          rows: 4,
          class: "w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",
          placeholder: "Any notes about this client..." %>
    </div>
  </div>

  <%# Actions %>
  <div class="flex flex-col sm:flex-row gap-3">
    <%= f.submit client.persisted? ? "Save Changes" : "Create Client", 
        class: "w-full sm:w-auto px-6 py-3 bg-emerald-500 hover:bg-emerald-600 text-white font-medium rounded-lg transition-colors cursor-pointer" %>
    
    <% if client.persisted? %>
      <%= link_to client_path(client), class: "w-full sm:w-auto px-6 py-3 bg-white border border-slate-200 text-slate-700 font-medium rounded-lg text-center hover:bg-slate-50 transition-colors" do %>
        Cancel
      <% end %>
    <% else %>
      <%= link_to clients_path, class: "w-full sm:w-auto px-6 py-3 bg-white border border-slate-200 text-slate-700 font-medium rounded-lg text-center hover:bg-slate-50 transition-colors" do %>
        Cancel
      <% end %>
    <% end %>
  </div>
<% end %>
